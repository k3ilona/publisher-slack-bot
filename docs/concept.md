# Вибір концепції

Розгортання Kubernetes кластерів в локальному середовищі k3d на прикладі застосунку IlonaBot та GitHub Actions в якості інструменту CІ  

## Вступ

Завдання команди хакатону `K3Ilona` полягає в розробці Slack-боту `Ilona Bot`, що автоматизує та певні процеси розробки програмного продукту та нотифікує команду розробників про етапи та події в середовищі розробки. Метою цього документу є вибір правильного інструменту для розробки в локальному кластері Kubernetes. От же розглянемо три можливі варіанти: minikube, kind, k3d та порівняємо їх з можливостями Podman

## Характеристики

### Minikube

- **Підтримувані ОС та архітектури:** Підтримує різні ОС, включаючи Linux, macOS, та Windows.
  
- **Можливість автоматизації:** Обмежена можливість автоматизації порівняно з іншими інструментами.

- **Додаткові функції:** Включає в себе функції, такі як Dashboard для моніторингу та огляду кластера.

### kind (Kubernetes IN Docker)

- **Підтримувані ОС та архітектури:** Широкі можливості, оскільки використовує Docker як базовий шар.

- **Можливість автоматизації:** Легко інтегрується в CI/CD системи для автоматичного тестування.

- **Додаткові функції:** Орієнтований на швидкість та легкість використання. Підтримує багатовузлові (включаючи HA) кластери. Kind підтримує створення збірок релізів з сирців.

### k3d

- **Підтримувані ОС та архітектури:** Підтримує різні ОС, але інтегрований з Docker.

- **Можливість автоматизації:** Легко автоматизується через інтерфейс командного рядка.

- **Додаткові функції:** Забезпечує легке створення та тестування кластерів Kubernetes у Docker-контейнерах. [vscode-k3d](https://github.com/inercia/vscode-k3d/): Розширення VSCode для роботи з кластером k3d у VSCode

## Переваги та Недоліки

| Характеристика | [Minikube](https://minikube.sigs.k8s.io/)| [kind](https://kind.sigs.k8s.io) | [k3d](https://k3d.io/) |
|--|--|--|--|
| Легкість використання | Зручний для початківців, але може бути обмежений | Легко встановлюється і використовується | Простий у використанні та конфігурації |
| Швидкість розгортання | Залежить від обраного гіпервізору, може бути повільним | Швидке розгортання у Docker-контейнерах | Швидке створення та тестування у Docker-контейнерах |
| Стабільність роботи | Стабільний, але може виникати обмеження масштабування | Стабільний та надійний | Стабільний і легко масштабується |
| Документація та спільнота | Добра документація, активна спільнота | Прийнятна документація, сильна спільнота | Задовільна документація, активна спільнота |
| Налаштування та використання | Має багато параметрів, що може бути складним для новачків | Простий у використанні та конфігурації | Легко конфігурується та використовується |
| Масштабування | Тільки один вузол | Це єдине локальне рішення з HA-кластером з кількома control-plane вузлами. | Підтримує кілька кластерів і підтримує кілька робочих вузлів на кластер. Легко зупиняє та запускає кластери без втрати їх стану.
| Використання з Podman | Обмежене (експериментальне використання) | Краща підтримка роботи, робота у rootless режимі | Обмежене (експериментальне використання)

## Демонстрація

Рекомендований інструмент: k3d Розгортання програми "Hello World" на Kubernetes

<!-- [Застосунок на Kubernetes](https://asciinema.org/a/622883.svg)](https://asciinema.org/a/622883) -->

[![Застосунок на Kubernetes](https://asciinema.org/a/622883.svg)](https://asciinema.org/a/622883)

## Висновок

Після практичного дослідження k3d виділяється як рекомендований інструмент для PoC `Ilona Bot`. Швидке створення кластерів і простота роблять його придатним для початкової розробки. Однак важливо враховувати обмежену документацію спільноти та потенційні проблеми з масштабованістю. Крім того, Podman представлений як легка альтернатива Docker, що пропонує безрутові контейнери та пряму інтеграцію з systemd, хоча і з менш зрілою екосистемою. Команді `K3Ilona` слід ретельно зважити всі за і проти, перш ніж приймати остаточне рішення.

---
← [Повернутись до змісту](../README.md)  
